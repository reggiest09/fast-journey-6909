!function(){var t=$('<div id="galleryOverlay">'),e=$('<div id="gallerySlider">'),i=$('<a id="prevArrow"></a>'),s=$('<a id="nextArrow"></a>'),n=!1;$.fn.touchTouch=function(){function o(e){return!n&&(t.show(),setTimeout(function(){t.addClass("visible")},100),a(e),void(n=!0))}function r(){return!!n&&(t.hide().removeClass("visible"),void(n=!1))}function a(t){e.css("left",100*-t+"%")}function c(t){setTimeout(function(){l(t)},1e3)}function l(t){return!(t<0||t>=m.length)&&void u(m.eq(t).attr("href"),function(){d.eq(t).html(this)})}function u(t,e){var i=$("<img>").on("load",function(){e.call(i)});i.attr("src",t)}function p(){h+1<m.length?(h++,a(h),c(h+1)):(e.addClass("rightSpring"),setTimeout(function(){e.removeClass("rightSpring")},500))}function f(){h>0?(h--,a(h),c(h-1)):(e.addClass("leftSpring"),setTimeout(function(){e.removeClass("leftSpring")},500))}var d=$([]),h=0,m=this;t.hide().appendTo("body"),e.appendTo(t),m.each(function(){d=d.add($('<div class="placeholder">'))}),e.append(d).on("click",function(t){$(t.target).is("img")||r()}),$("body").on("touchstart","#gallerySlider img",function(t){var i=t.originalEvent,s=i.changedTouches[0].pageX;return e.on("touchmove",function(t){t.preventDefault(),i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],i.pageX-s>10?(e.off("touchmove"),f()):i.pageX-s<-10&&(e.off("touchmove"),p())}),!1}).on("touchend",function(){e.off("touchmove")}),m.on("click",function(t){t.preventDefault(),h=m.index(this),o(h),l(h),c(h+1),c(h-1)}),"ontouchstart"in window||(t.append(i).append(s),i.click(function(t){t.preventDefault(),f()}),s.click(function(t){t.preventDefault(),p()})),$(window).bind("keydown",function(t){37==t.keyCode?f():39==t.keyCode&&p()})}}(jQuery);